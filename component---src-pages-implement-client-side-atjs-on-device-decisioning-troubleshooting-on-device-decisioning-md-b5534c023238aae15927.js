"use strict";(self.webpackChunktarget_developers=self.webpackChunktarget_developers||[]).push([[7213],{50426:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return l},default:function(){return b}});var o=a(87462),s=a(63366),n=(a(15007),a(64983)),r=a(91515),i=["components"],l={},c={_frontmatter:l},p=r.Z;function b(e){var t=e.components,a=(0,s.Z)(e,i);return(0,n.mdx)(p,(0,o.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,n.mdx)("h1",{id:"troubleshooting-on-device-decisioning-for-atjs"},"Troubleshooting on-device decisioning for at.js"),(0,n.mdx)("p",null,"Complete the following steps to troubleshoot on-device decisioning in Adobe Target with the at.js JavaScript library:"),(0,n.mdx)("h2",{id:"step-1-enable-the-console-log-for-atjs"},"Step 1: Enable the console log for at.js"),(0,n.mdx)("p",null,"Appending the URL parameter ",(0,n.mdx)("inlineCode",{parentName:"p"},"mboxDebug=1")," enables at.js to print messages in your browser's console. "),(0,n.mdx)("p",null,'All messages contain a prefix "AT:" for convenient overview. To ensure that an artifact has been successfully loaded, your console log should contain messages similar to the following:'),(0,n.mdx)("pre",null,(0,n.mdx)("code",{parentName:"pre"},"AT: LD.ArtifactProvider fetching artifact - https://assets.adobetarget.com/your-client-cide/production/v1/rules.json\nAT: LD.ArtifactProvider artifact received - status=200\n")),(0,n.mdx)("p",null,"The following illustration shows these messages in the console log:"),(0,n.mdx)("p",null,(0,n.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,n.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"44.99999999999999%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,n.mdx)("picture",{parentName:"span"},"\n          ",(0,n.mdx)("source",{parentName:"picture",srcSet:["/target-developers/static/28aec7b0883bbcab79a1785c5b3c6582/5530d/browser-console.webp 320w","/target-developers/static/28aec7b0883bbcab79a1785c5b3c6582/0c8fb/browser-console.webp 640w","/target-developers/static/28aec7b0883bbcab79a1785c5b3c6582/94b1e/browser-console.webp 1280w","/target-developers/static/28aec7b0883bbcab79a1785c5b3c6582/0b34d/browser-console.webp 1920w","/target-developers/static/28aec7b0883bbcab79a1785c5b3c6582/d5269/browser-console.webp 2560w","/target-developers/static/28aec7b0883bbcab79a1785c5b3c6582/3c804/browser-console.webp 2720w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,n.mdx)("source",{parentName:"picture",srcSet:["/target-developers/static/28aec7b0883bbcab79a1785c5b3c6582/dd4a7/browser-console.png 320w","/target-developers/static/28aec7b0883bbcab79a1785c5b3c6582/0f09e/browser-console.png 640w","/target-developers/static/28aec7b0883bbcab79a1785c5b3c6582/bbbf7/browser-console.png 1280w","/target-developers/static/28aec7b0883bbcab79a1785c5b3c6582/ac7a9/browser-console.png 1920w","/target-developers/static/28aec7b0883bbcab79a1785c5b3c6582/c7a69/browser-console.png 2560w","/target-developers/static/28aec7b0883bbcab79a1785c5b3c6582/f0fb3/browser-console.png 2720w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,n.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/target-developers/static/28aec7b0883bbcab79a1785c5b3c6582/bbbf7/browser-console.png",alt:"Console log with artifact messages",title:"Console log with artifact messages",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,n.mdx)("h2",{id:"step-2-verify-the-rule-artifact-download-in-your-browsers-network-tab"},"Step 2: Verify the rule artifact download in your browser's Network tab"),(0,n.mdx)("p",null,"Open your browser's Network tab. "),(0,n.mdx)("p",null,"For example, to open DevTools in Google Chrome:"),(0,n.mdx)("ol",null,(0,n.mdx)("li",{parentName:"ol"},(0,n.mdx)("p",{parentName:"li"},"Press Control+Shift+J (Windows) or Command+Option+J (Mac).")),(0,n.mdx)("li",{parentName:"ol"},(0,n.mdx)("p",{parentName:"li"},"Navigate to the Network tab. ")),(0,n.mdx)("li",{parentName:"ol"},(0,n.mdx)("p",{parentName:"li"},'Filter your calls by keyword "rules.json" to ensure that only the artifact rules file displays. '),(0,n.mdx)("p",{parentName:"li"},'In addition, you can filter by "/delivery|rules.json/" to display all Target calls and artifact rules.json.'),(0,n.mdx)("p",{parentName:"li"},(0,n.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,n.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"58.12500000000001%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,n.mdx)("picture",{parentName:"span"},"\n          ",(0,n.mdx)("source",{parentName:"picture",srcSet:["/target-developers/static/ab5140b5c98335860abc2f667a7b39f2/5530d/rule-json.webp 320w","/target-developers/static/ab5140b5c98335860abc2f667a7b39f2/0c8fb/rule-json.webp 640w","/target-developers/static/ab5140b5c98335860abc2f667a7b39f2/94b1e/rule-json.webp 1280w","/target-developers/static/ab5140b5c98335860abc2f667a7b39f2/c87dd/rule-json.webp 1904w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,n.mdx)("source",{parentName:"picture",srcSet:["/target-developers/static/ab5140b5c98335860abc2f667a7b39f2/dd4a7/rule-json.png 320w","/target-developers/static/ab5140b5c98335860abc2f667a7b39f2/0f09e/rule-json.png 640w","/target-developers/static/ab5140b5c98335860abc2f667a7b39f2/bbbf7/rule-json.png 1280w","/target-developers/static/ab5140b5c98335860abc2f667a7b39f2/3c7f1/rule-json.png 1904w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,n.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/target-developers/static/ab5140b5c98335860abc2f667a7b39f2/bbbf7/rule-json.png",alt:"Network tab in Google Chrome",title:"Network tab in Google Chrome",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")))),(0,n.mdx)("h2",{id:"step-3-verify-the-rule-artifact-download-using-atjs-custom-events"},"Step 3: Verify the rule artifact download using at.js custom events"),(0,n.mdx)("p",null,"The at.js library dispatches two new custom events to support on-device decisioning. "),(0,n.mdx)("ul",null,(0,n.mdx)("li",{parentName:"ul"},(0,n.mdx)("inlineCode",{parentName:"li"},"adobe.target.event.ARTIFACT_DOWNLOAD_SUCCEEDED")),(0,n.mdx)("li",{parentName:"ul"},(0,n.mdx)("inlineCode",{parentName:"li"},"adobe.target.event.ARTIFACT_DOWNLOAD_FAILED")," ")),(0,n.mdx)("p",null,"You can subscribe to listen to these custom events in your application to action upon success or failure of the artifact rules file download. "),(0,n.mdx)("p",null,"The following example shows a sample of code listening to artifact download success and failure events:"),(0,n.mdx)("pre",null,(0,n.mdx)("code",{parentName:"pre",className:"language-javascript"},'document.addEventListener(adobe.target.event.ARTIFACT_DOWNLOAD_SUCCEEDED, function(e) { \n  console.log("Artifact successfully downloaded", e.detail);\n}, false);\n\ndocument.addEventListener(adobe.target.event.ARTIFACT_DOWNLOAD_FAILED, function(e) { \n  console.log("Artifact failed to download", e.detail);\n}, false);\n')))}b.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-implement-client-side-atjs-on-device-decisioning-troubleshooting-on-device-decisioning-md-b5534c023238aae15927.js.map