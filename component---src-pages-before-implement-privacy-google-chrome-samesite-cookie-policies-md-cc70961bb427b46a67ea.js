"use strict";(self.webpackChunktarget_developers=self.webpackChunktarget_developers||[]).push([[2866],{45340:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return l},default:function(){return u}});var o=a(87462),i=a(63366),r=(a(15007),a(64983)),s=a(91515),n=["components"],l={},d={_frontmatter:l},m=s.Z;function u(e){var t=e.components,a=(0,i.Z)(e,n);return(0,r.mdx)(m,(0,o.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,r.mdx)("h1",{id:"google-chrome-samesite-cookie-policies"},"Google Chrome SameSite cookie policies"),(0,r.mdx)("p",null,"Google will begin to impose new cookie policies by default for users beginning with Chrome 80, which is slated to be released in early 2020. This article explains all you need to know about the new SameSite cookie policies, how Adobe Target supports these policies, and how you can use Target to comply with Google Chrome’s new SameSite Cookie Policies."),(0,r.mdx)("p",null,"Starting with Chrome 80, web developers must explicitly specify which cookies can work across websites. This is the first of many announcements that Google plans to make to improve privacy and security on the web. "),(0,r.mdx)("p",null,"Given the fact that Facebook has been on the hot seat with regards to privacy and security, other major players such as Apple, and now Google, have been quick to capitalize on the opportunity to create new identities as privacy and security champions. Apple led the pack by first announcing changes to its cookie policies early this year through ITP 2.1 and recently, ITP 2.2. In ITP 2.1, Apple completely blocks third-party cookies and keeps cookies created on the browser for only seven days. In ITP 2.2, cookies are kept for only one day. Google’s announcement is nowhere near as aggressive as Apple’s, but it is the first step toward the same end goal. For more information on Apple's policies, see ",(0,r.mdx)("a",{parentName:"p",href:"/target-developers/src/pages/before-implement/privacy/apple-itp-2x.md"},"Apple Intelligent Tracking Prevention (ITP) 2.x"),"."),(0,r.mdx)("h2",{id:"what-are-cookies-and-how-are-they-used"},"What are cookies and how are they used?"),(0,r.mdx)("p",null,"Before we dive into Google’s changes to its cookies policies, let’s touch upon what cookies are and how they are used. Simply put, cookies are small text files stored in the web browser that are used to remember user attributes. "),(0,r.mdx)("p",null,"Cookies are important because they enhance the user’s experience as they browse the web. For example, if you are shopping on an eCommerce website and add something to your cart but don’t sign in or purchase in that visit, cookies remember your items and keep them in your cart for your next visit. Or, imagine if you were forced to re-input your username and password every time you visit your favorite social media website. Cookies solve that problem too, because they store information that helps sites identify who you are. These kinds of cookies are called first-party cookies because they are created and used by the website you visited."),(0,r.mdx)("p",null,"Third-party cookies also exist. To better understand them, let’s consider this example: "),(0,r.mdx)("p",null,'Let’s say a hypothetical social media company called "Friends" provides a Share button that other sites implement to allow Friends users to share the site’s content on the Friends feed. Now, a user reads a news article on a news website that’s using the Share button and clicks it to automatically post on their Friends account. '),(0,r.mdx)("p",null,"For this to happen, the browser fetches the Friends Share button from ",(0,r.mdx)("inlineCode",{parentName:"p"},"platform.friends.com")," when the news article is loaded. Within this process, the browser attaches Friends cookies, which contain the logged-in credentials of the user, to the request to Friends servers. This allows Friends to post the news article in its feed on the user’s behalf without requiring the user to log in. "),(0,r.mdx)("p",null,"This is all possible by using third-party cookies. In this case, the third-party cookie is saved on the browser for ",(0,r.mdx)("inlineCode",{parentName:"p"},"platform.friends.com"),", so that ",(0,r.mdx)("inlineCode",{parentName:"p"},"platform.friends.com")," can make the post in the Friends app on the user’s behalf. "),(0,r.mdx)("p",null,"If you imagine for a moment how to achieve this use case without third-party cookies, the user would have to follow a lot of manual steps. First, the user would have to copy the link to the news article. Second, the user would have to log into the Friends app separately. Then, the user would click on the Create Post button. Then the user would copy and paste the link in the text field, and finally click Post. As you can see, third-party cookies immensely help the user experience as manual steps can be drastically reduced. "),(0,r.mdx)("p",null,"More generally, third-party cookies make it possible for data to be stored on a user’s browser without requiring that user to explicitly visit a website."),(0,r.mdx)("h2",{id:"security-concerns"},"Security concerns"),(0,r.mdx)("p",null,"Although cookies enhance user experiences and power advertising, they can also introduce security vulnerabilities like Cross-Site Request Forgery (CSRF) attacks. For example, if a user logs in to a banking site to pay credit card bills and leaves the site without logging out and then browses to a malicious site in the same session, a CSRF attack can occur. The malicious site could include code that makes a request to the banking site that executes when the page loads. Because the user is still authenticated to the banking site, the session cookie can be used to launch a CSRF attack to initiate a funds transfer event out of the user’s bank account. This is because whenever you visit a site, all the cookies are attached in the HTTP request. And because of these security concerns, Google is now attempting to mitigate them."),(0,r.mdx)("h2",{id:"how-does-target-use-cookies"},"How does Target use cookies?"),(0,r.mdx)("p",null,"With all that said, let’s see how Target uses cookies. In order for you to use Target in the first place, you need to install the Target JavaScript library on your site. This enables you to place a first-party cookie on the browser of the user that visits your site. As your user interacts with your website, you can pass the user’s behavioral and interest data to Target through the JavaScript library. The Target JavaScript library uses first-party cookies to extract identification information about the user to map to the user’s behavior and interest data. This data is then used by Target to power your personalization activities."),(0,r.mdx)("p",null,"Target also (sometimes) uses third-party cookies. If you own multiple websites that live on different domains and you want to track the user journey across those websites, you can use third-party cookies by leveraging cross-domain tracking. By enabling cross-domain tracking in the Target JavaScript library, your account will start using third-party cookies. As a user hops from one domain to another, the browser communicates with the backend server of Target, and in this process, a third-party cookie is created and placed on the user’s browser. Through the third-party cookie that lives on the user’s browser, Target is able to deliver a consistent experience across different domains for a single user."),(0,r.mdx)("h2",{id:"googles-new-cookie-recipe"},"Google’s new cookie recipe"),(0,r.mdx)("p",null,"To provide safeguards around when cookies are sent across sites so that users are protected, Google plans to add support for an IETF standard called SameSite, which requires web developers to manage cookies with the SameSite attribute component in the Set-Cookie header."),(0,r.mdx)("p",null,"There are three different values that can be passed into the SameSite attribute: Strict, Lax, or None."),(0,r.mdx)("table",null,(0,r.mdx)("thead",{parentName:"table"},(0,r.mdx)("tr",{parentName:"thead"},(0,r.mdx)("th",{parentName:"tr",align:null},"Value"),(0,r.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,r.mdx)("tbody",{parentName:"table"},(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"Strict"),(0,r.mdx)("td",{parentName:"tr",align:null},"Cookies with this setting can be accessed only when visiting the domain on which it was initially set. In other words, Strict completely blocks the cookie from being used across sites. This option would be best for applications that require high security, such as banks.")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"Lax"),(0,r.mdx)("td",{parentName:"tr",align:null},"Cookies with this setting are sent only on same-site requests or top-level navigation with non-idempotent HTTP requests, like ",(0,r.mdx)("inlineCode",{parentName:"td"},"HTTP GET"),". Therefore, this option would be used if the cookie can be used by third-parties, but with an added security benefit that protects users from being victimized by CSRF attacks.")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"None"),(0,r.mdx)("td",{parentName:"tr",align:null},"Cookies with this setting will work the same way as cookies work today.")))),(0,r.mdx)("p",null,'Keeping the above in mind, Chrome 80 introduces two independent settings for users: "SameSite by default cookies" and "Cookies without SameSite must be secure." These settings will be enabled by default in Chrome 80.'),(0,r.mdx)("p",null,(0,r.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"970px"}},"\n      ",(0,r.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"60.9375%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,r.mdx)("picture",{parentName:"span"},"\n          ",(0,r.mdx)("source",{parentName:"picture",srcSet:["/target-developers/static/e0ba072c225497062a5e030d7d531688/5530d/samesite.webp 320w","/target-developers/static/e0ba072c225497062a5e030d7d531688/0c8fb/samesite.webp 640w","/target-developers/static/e0ba072c225497062a5e030d7d531688/66318/samesite.webp 970w"],sizes:"(max-width: 970px) 100vw, 970px",type:"image/webp"}),"\n          ",(0,r.mdx)("source",{parentName:"picture",srcSet:["/target-developers/static/e0ba072c225497062a5e030d7d531688/dd4a7/samesite.png 320w","/target-developers/static/e0ba072c225497062a5e030d7d531688/0f09e/samesite.png 640w","/target-developers/static/e0ba072c225497062a5e030d7d531688/adb12/samesite.png 970w"],sizes:"(max-width: 970px) 100vw, 970px",type:"image/png"}),"\n          ",(0,r.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/target-developers/static/e0ba072c225497062a5e030d7d531688/adb12/samesite.png",alt:"SameSite dialog box",title:"SameSite dialog box",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("strong",{parentName:"li"},"SameSite by default cookies"),": When set, all cookies that don’t specify the SameSite attribute will automatically be forced to use ",(0,r.mdx)("inlineCode",{parentName:"li"},"SameSite = Lax"),"."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("strong",{parentName:"li"},"Cookies without SameSite must be secure"),": When set, cookies without the SameSite attribute or with ",(0,r.mdx)("inlineCode",{parentName:"li"},"SameSite = None")," need to be Secure. Secure in this context means that all browser requests must follow the HTTPS protocol. Cookies that do not adhere to this requirement are rejected. All websites should use HTTPS to meet this requirement.")),(0,r.mdx)("h2",{id:"target-follows-googles-security-best-practices"},"Target follows Google's security best practices"),(0,r.mdx)("p",null,"At Adobe, we always want to support the industry’s latest best practices for security and privacy. We are happy to announce that Target supports the new security and privacy settings introduced by Google."),(0,r.mdx)("p",null,'For the "SameSite by default cookies" setting, Target will continue to deliver personalization without any impact and intervention by you. Target uses first-party cookies and will continue to function properly as the flag ',(0,r.mdx)("inlineCode",{parentName:"p"},"SameSite = Lax")," is applied by Google Chrome."),(0,r.mdx)("p",null,'For the "Cookies without SameSite must be secure" option, if you do not opt-in for the cross-domain tracking feature in Target, the first-party cookies in Target will continue to work. '),(0,r.mdx)("p",null,"However, when you opt-in to use cross-domain tracking to leverage Target across multiple domains, Chrome requires ",(0,r.mdx)("inlineCode",{parentName:"p"},"SameSite = None")," and Secure flags to be used for third-party cookies. This means that you must ensure that your sites use the HTTPS protocol. Client-side libraries in Target will automatically use the HTTPS protocol and attach the ",(0,r.mdx)("inlineCode",{parentName:"p"},"SameSite = None")," and Secure flags to third-party cookies in Target to ensure that all activities continue to deliver."),(0,r.mdx)("h2",{id:"what-do-you-need-to-do"},"What do you need to do?"),(0,r.mdx)("p",null,"To understand what you need to do to have Target continue to work for Google Chrome 80+ users, consult the table below, of which you will see the following columns:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("strong",{parentName:"li"},"Target JavaScript Library"),": If you are using at.js 1.",(0,r.mdx)("em",{parentName:"li"},"x")," or at.js 2.",(0,r.mdx)("em",{parentName:"li"},"x")," on your sites."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("strong",{parentName:"li"},"SameSite by default cookies = Enabled"),': If your users have "SameSite by default cookies" enabled, how does it impact you and is there anything you need to do for Target to continue to work.'),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("strong",{parentName:"li"},"Cookies without SameSite must be secure = Enabled"),': If your users have "Cookies without SameSite must be secure" enabled, how does it impact you and is there anything you need to do to have Target continue to work.')),(0,r.mdx)("table",null,(0,r.mdx)("thead",{parentName:"table"},(0,r.mdx)("tr",{parentName:"thead"},(0,r.mdx)("th",{parentName:"tr",align:null},"Target JavaScript Library"),(0,r.mdx)("th",{parentName:"tr",align:null},"SameSite by default cookies = Enabled"),(0,r.mdx)("th",{parentName:"tr",align:null},"Cookies without SameSite must be secure = Enabled"))),(0,r.mdx)("tbody",{parentName:"table"},(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"at.js 1.",(0,r.mdx)("em",{parentName:"td"},"x")," with first-party cookie."),(0,r.mdx)("td",{parentName:"tr",align:null},"No impact."),(0,r.mdx)("td",{parentName:"tr",align:null},"No impact if you are not using cross-domain tracking.")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"at.js 1.",(0,r.mdx)("em",{parentName:"td"},"x")," with cross-domain tracking enabled."),(0,r.mdx)("td",{parentName:"tr",align:null},"No impact."),(0,r.mdx)("td",{parentName:"tr",align:null},"You must enable the HTTPS protocol for your site.",(0,r.mdx)("br",null),"Target uses a third-party cookie to track users and Google requires third-party cookies to have ",(0,r.mdx)("inlineCode",{parentName:"td"},"SameSite = None")," and Secure flag. The Secure flag requires your sites must use the HTTPS protocol.")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"at.js 2.",(0,r.mdx)("em",{parentName:"td"},"x")),(0,r.mdx)("td",{parentName:"tr",align:null},"No impact."),(0,r.mdx)("td",{parentName:"tr",align:null},"No impact.")))),(0,r.mdx)("h2",{id:"what-does-target-need-to-do"},"What does Target need to do?"),(0,r.mdx)("p",null,"So, what did we need to do in our platform to help you comply with the new Google Chrome 80+ SameSite cookie policies?"),(0,r.mdx)("table",null,(0,r.mdx)("thead",{parentName:"table"},(0,r.mdx)("tr",{parentName:"thead"},(0,r.mdx)("th",{parentName:"tr",align:null},"Target JavaScript Library"),(0,r.mdx)("th",{parentName:"tr",align:null},"SameSite by default cookies = Enabled"),(0,r.mdx)("th",{parentName:"tr",align:null},"Cookies without SameSite must be secure = Enabled"))),(0,r.mdx)("tbody",{parentName:"table"},(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"at.js 1.",(0,r.mdx)("em",{parentName:"td"},"x")," with first-party cookie."),(0,r.mdx)("td",{parentName:"tr",align:null},"No impact."),(0,r.mdx)("td",{parentName:"tr",align:null},"No impact if you are not using cross-domain tracking.")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"at.js 1.",(0,r.mdx)("em",{parentName:"td"},"x")," with cross-domain tracking enabled."),(0,r.mdx)("td",{parentName:"tr",align:null},"No impact."),(0,r.mdx)("td",{parentName:"tr",align:null},"at.js 1.",(0,r.mdx)("em",{parentName:"td"},"x")," with cross-domain tracking enabled.")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"at.js 2.",(0,r.mdx)("em",{parentName:"td"},"x")),(0,r.mdx)("td",{parentName:"tr",align:null},"No impact."),(0,r.mdx)("td",{parentName:"tr",align:null},"No impact.")))),(0,r.mdx)("h2",{id:"what-is-the-impact-if-you-dont-move-over-to-using-the-https-protocol"},"What is the impact if you don’t move over to using the HTTPS protocol?"),(0,r.mdx)("p",null,"The only use case that will impact you is if you are using the cross-domain tracking feature in Target through at.js 1.",(0,r.mdx)("em",{parentName:"p"},"x"),". Without moving over to HTTPS, which is a requirement by Google, you will see a spike in unique visitors across your domains because the third-party cookie we use will be dropped by Google. And because the third-party cookie will be dropped, Target will not be able to provide a consistent and personalized experience for that user as the user navigates from one domain to another. The third-party cookie is mainly used to identify a single user navigating across domains you own."),(0,r.mdx)("h2",{id:"conclusion"},"Conclusion"),(0,r.mdx)("p",null,"As the industry makes strides to create a more secure web for consumers, Adobe is absolutely committed to helping our customers deliver personalized experiences in a manner that ensures security and privacy for end users. All you need to do is follow the aforementioned best practices and take advantage of Target to comply with Google Chrome’s new SameSite Cookie Policies."))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-before-implement-privacy-google-chrome-samesite-cookie-policies-md-cc70961bb427b46a67ea.js.map