(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[7705],{20850:function(e,t,a){"use strict";a.r(t),a.d(t,{_frontmatter:function(){return m},default:function(){return l}});var n=a(22122),r=a(19756),i=(a(15007),a(64983)),o=a(99536),d=["components"],m={},s={_frontmatter:m},p=o.Z;function l(e){var t=e.components,a=(0,r.Z)(e,d);return(0,i.mdx)(p,(0,n.Z)({},s,a,{components:t,mdxType:"MDXLayout"}),(0,i.mdx)("h1",{id:"supported-features-for-on-device-decisioning"},"Supported features for on-device decisioning"),(0,i.mdx)("p",null,"The Adobe Target JS SDK gives customers the flexibility to choose between performance and freshness of data for decisions. In other words, if delivering the most relevant and engaging personalized content via machine learning is most important to you, a live server call should be made. But when performance is more critical, an on-device and in-memory decision should be made. For on-device decisioning to work, refer to the following sections that list the features that are supported."),(0,i.mdx)("h2",{id:"supported-activity-types"},"Supported activity types"),(0,i.mdx)("p",null,"The following table indicates which ",(0,i.mdx)("a",{parentName:"p",href:"https://experienceleague.corp.adobe.com/docs/target/using/activities/target-activities-guide.html"},"activity types")," created by the ",(0,i.mdx)("a",{parentName:"p",href:"https://experienceleague.corp.adobe.com/docs/target/using/experiences/form-experience-composer.html"},"Form-based Experience Composer")," or ",(0,i.mdx)("a",{parentName:"p",href:"https://experienceleague.corp.adobe.com/docs/target/using/experiences/vec/visual-experience-composer.html"},"Visual Experience Composer")," (VEC) are supported or not supported for on-device decisioning."),(0,i.mdx)("table",null,(0,i.mdx)("thead",{parentName:"table"},(0,i.mdx)("tr",{parentName:"thead"},(0,i.mdx)("th",{parentName:"tr",align:null},"Activity type"),(0,i.mdx)("th",{parentName:"tr",align:null},"Supported?"))),(0,i.mdx)("tbody",{parentName:"table"},(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("a",{parentName:"td",href:"https://experienceleague.corp.adobe.com/docs/target/using/activities/abtest/test-ab.html"},"A/B Test")),(0,i.mdx)("td",{parentName:"tr",align:null},"Yes")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("a",{parentName:"td",href:"https://experienceleague.corp.adobe.com/docs/target/using/activities/auto-allocate/automated-traffic-allocation.html"},"Auto-Allocate")),(0,i.mdx)("td",{parentName:"tr",align:null},"No")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("a",{parentName:"td",href:"https://experienceleague.corp.adobe.com/docs/target/using/activities/auto-target/auto-target-to-optimize.html"},"Auto-Target")," ",(0,i.mdx)("span",{parentName:"td",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"81px"}},"\n      ",(0,i.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"29.629629629629626%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,i.mdx)("picture",{parentName:"span"},"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/target-developers/static/41bfe107c755d1eb924615a2b9b49fe7/66274/premium.webp 81w"],sizes:"(max-width: 81px) 100vw, 81px",type:"image/webp"}),"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/target-developers/static/41bfe107c755d1eb924615a2b9b49fe7/11ef0/premium.png 81w"],sizes:"(max-width: 81px) 100vw, 81px",type:"image/png"}),"\n          ",(0,i.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/target-developers/static/41bfe107c755d1eb924615a2b9b49fe7/11ef0/premium.png",alt:"Premium",title:"Premium",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,i.mdx)("td",{parentName:"tr",align:null},"No")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("a",{parentName:"td",href:"https://experienceleague.corp.adobe.com/docs/target/using/activities/multivariate-test/multivariate-testing.html"},"Multivariate Test")," (MVT)"),(0,i.mdx)("td",{parentName:"tr",align:null},"No")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("a",{parentName:"td",href:"https://experienceleague.corp.adobe.com/docs/target/using/activities/experience-targeting/experience-target.html"},"Experience Targeting")," (XT)"),(0,i.mdx)("td",{parentName:"tr",align:null},"Yes")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("a",{parentName:"td",href:"https://experienceleague.corp.adobe.com/docs/target/using/activities/automated-personalization/automated-personalization.html"},"Automated Personalization")," ",(0,i.mdx)("span",{parentName:"td",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"81px"}},"\n      ",(0,i.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"29.629629629629626%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,i.mdx)("picture",{parentName:"span"},"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/target-developers/static/41bfe107c755d1eb924615a2b9b49fe7/66274/premium.webp 81w"],sizes:"(max-width: 81px) 100vw, 81px",type:"image/webp"}),"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/target-developers/static/41bfe107c755d1eb924615a2b9b49fe7/11ef0/premium.png 81w"],sizes:"(max-width: 81px) 100vw, 81px",type:"image/png"}),"\n          ",(0,i.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/target-developers/static/41bfe107c755d1eb924615a2b9b49fe7/11ef0/premium.png",alt:"Premium",title:"Premium",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,i.mdx)("td",{parentName:"tr",align:null},"No")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("a",{parentName:"td",href:"https://experienceleague.corp.adobe.com/docs/target/using/recommendations/recommendations.html"},"Recommendations")," ",(0,i.mdx)("span",{parentName:"td",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"81px"}},"\n      ",(0,i.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"29.629629629629626%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,i.mdx)("picture",{parentName:"span"},"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/target-developers/static/41bfe107c755d1eb924615a2b9b49fe7/66274/premium.webp 81w"],sizes:"(max-width: 81px) 100vw, 81px",type:"image/webp"}),"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/target-developers/static/41bfe107c755d1eb924615a2b9b49fe7/11ef0/premium.png 81w"],sizes:"(max-width: 81px) 100vw, 81px",type:"image/png"}),"\n          ",(0,i.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/target-developers/static/41bfe107c755d1eb924615a2b9b49fe7/11ef0/premium.png",alt:"Premium",title:"Premium",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,i.mdx)("td",{parentName:"tr",align:null},"No")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("a",{parentName:"td",href:"https://experienceleague.corp.adobe.com/docs/target/using/integrate/a4t/a4t.html?"},"Activities using Analytics for Target")," (A4T)"),(0,i.mdx)("td",{parentName:"tr",align:null},"Yes")))),(0,i.mdx)("h2",{id:"audience-targeting"},"Audience targeting"),(0,i.mdx)("p",null,"The following table indicates which audience rules are supported or not supported for on-device decisioning. "),(0,i.mdx)("table",null,(0,i.mdx)("thead",{parentName:"table"},(0,i.mdx)("tr",{parentName:"thead"},(0,i.mdx)("th",{parentName:"tr",align:null},"Audience rule"),(0,i.mdx)("th",{parentName:"tr",align:null},"Supported?"))),(0,i.mdx)("tbody",{parentName:"table"},(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("a",{parentName:"td",href:"https://experienceleague.corp.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/geo.html"},"Geo")),(0,i.mdx)("td",{parentName:"tr",align:null},"Yes")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("a",{parentName:"td",href:"https://experienceleague.corp.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/network.html"},"Network")),(0,i.mdx)("td",{parentName:"tr",align:null},"No")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("a",{parentName:"td",href:"https://experienceleague.corp.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/mobile.html"},"Mobile")),(0,i.mdx)("td",{parentName:"tr",align:null},"No")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("a",{parentName:"td",href:"https://experienceleague.corp.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/custom-parameters.html"},"Custom parameters")),(0,i.mdx)("td",{parentName:"tr",align:null},"Yes")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("a",{parentName:"td",href:"https://experienceleague.corp.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/operating-system.html"},"Operating System")),(0,i.mdx)("td",{parentName:"tr",align:null},"Yes")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("a",{parentName:"td",href:"https://experienceleague.corp.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/site-pages.html"},"Site Pages")),(0,i.mdx)("td",{parentName:"tr",align:null},"Yes")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("a",{parentName:"td",href:"https://experienceleague.corp.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/browser.html"},"Browser")),(0,i.mdx)("td",{parentName:"tr",align:null},"Yes")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("a",{parentName:"td",href:"https://experienceleague.corp.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/visitor-profile.html"},"Visitor Profile")),(0,i.mdx)("td",{parentName:"tr",align:null},"No")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("a",{parentName:"td",href:"https://experienceleague.corp.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/traffic-sources.html"},"Traffic Sources")),(0,i.mdx)("td",{parentName:"tr",align:null},"No")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("a",{parentName:"td",href:"https://experienceleague.corp.adobe.com/docs/target/using/audiences/create-audiences/categories-audiences/time-frame.html"},"Time Frame")),(0,i.mdx)("td",{parentName:"tr",align:null},"Yes")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"Adobe Experience Cloud Audiences",(0,i.mdx)("br",null),"(Audiences from Adobe Analytics, Adobe Audience Manager, and Adobe Experience Manager"),(0,i.mdx)("td",{parentName:"tr",align:null},"No")))),(0,i.mdx)("h3",{id:"geo-targeting-for-on-device-decisioning"},"Geo targeting for on-device decisioning"),(0,i.mdx)("p",null,"To maintain minimal latency for on-device decisioning activities with geo-based audiences, Adobe recommends you provide the geo values yourself in the call to ",(0,i.mdx)("a",{parentName:"p",href:"/target-developers/src/pages/implement/client-side/atjs/atjs-functions/adobe-target-getoffers-atjs-2.md"},"getOffers"),". Set the Geo object in the Context of the request. This means from the browser, a way to determine the location of each visitor. For example, you can perform an IP-to-Geo lookup, using a service you configure. Some hosting providers, such as Google Cloud, provide this functionality via custom headers in each ",(0,i.mdx)("inlineCode",{parentName:"p"},"HttpServletRequest"),"."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-javascript"},'window.adobe.target.getOffers({ \n    decisioningMethod: "on-device", \n    request: { \n        context: { \n            geo: { \n                city: "SAN FRANCISCO", \n                countryCode: "US", \n                stateCode: "CA", \n                latitude: 37.75, \n                longitude: -122.4 \n            } \n        }, \n        execute: { \n            pageLoad: {} \n        } \n    } \n})\n')),(0,i.mdx)("p",null,"However, if you are not able to perform IP-to-Geo lookups on your server, but you still want to perform on-device decisioning for ",(0,i.mdx)("a",{parentName:"p",href:"/target-developers/src/pages/implement/client-side/atjs/atjs-functions/adobe-target-getoffers-atjs-2.md"},"getOffers")," requests that contain geo-based audiences, this is also supported. The downside of this approach is that it uses a remote IP-to-Geo lookup, which adds latency to each ",(0,i.mdx)("inlineCode",{parentName:"p"},"getOffers")," call. This latency should be lower than a ",(0,i.mdx)("inlineCode",{parentName:"p"},"getOffers"),' call with server-side decisioning, because it hits a CDN that is located close to your server. Provide only the "ipAddress" field in the Geo object in the Context of your request for the SDK to retrieve the geo-location of your visitor\'s IP address. If any other field in addition to the "ipAddress" is provided, the Target SDK will not fetch the geo-location metadata for resolution.'),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-javascript"},'window.adobe.target.getOffers({ \n    decisioningMethod: "on-device", \n    request: { \n        context: { \n            geo: { \n                ipAddress: "127.0.0.1" \n            } \n        }, \n        execute: { \n            pageLoad: {} \n        } \n    } \n})\n')),(0,i.mdx)("h3",{id:"allocation-method"},"Allocation method"),(0,i.mdx)("p",null,"The following table indicates which allocation methods are supported or not supported for on-device decisioning."),(0,i.mdx)("table",null,(0,i.mdx)("thead",{parentName:"table"},(0,i.mdx)("tr",{parentName:"thead"},(0,i.mdx)("th",{parentName:"tr",align:null},"Allocation method"),(0,i.mdx)("th",{parentName:"tr",align:null},"Supported?"))),(0,i.mdx)("tbody",{parentName:"table"},(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"Manual"),(0,i.mdx)("td",{parentName:"tr",align:null},"Yes")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("a",{parentName:"td",href:"https://experienceleague.corp.adobe.com/docs/target/using/activities/auto-allocate/automated-traffic-allocation.html"},"Auto-allocate to best experience")),(0,i.mdx)("td",{parentName:"tr",align:null},"No")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("a",{parentName:"td",href:"https://experienceleague.corp.adobe.com/docs/target/using/activities/auto-target/auto-target-to-optimize.html"},"Auto-target for personalized experiences")),(0,i.mdx)("td",{parentName:"tr",align:null},"No")))))}l.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-implement-client-side-atjs-on-device-decisioning-supported-features-md-698bfc125d4ef6247684.js.map