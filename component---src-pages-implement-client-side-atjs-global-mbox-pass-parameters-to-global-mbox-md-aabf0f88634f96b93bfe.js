"use strict";(self.webpackChunktarget_developers=self.webpackChunktarget_developers||[]).push([[8239],{48053:function(e,a,t){t.r(a),t.d(a,{_frontmatter:function(){return i},default:function(){return x}});var n,l=t(87462),r=t(63366),o=(t(15007),t(64983)),m=t(91515),d=["components"],i={},p=(n="InlineAlert",function(e){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.mdx)("div",e)}),s={_frontmatter:i},u=m.Z;function x(e){var a=e.components,t=(0,r.Z)(e,d);return(0,o.mdx)(u,(0,l.Z)({},s,t,{components:a,mdxType:"MDXLayout"}),(0,o.mdx)("h1",{id:"pass-parameters-to-a-global-mbox"},"Pass Parameters to a global mbox"),(0,o.mdx)("p",null,"The JavaScript ",(0,o.mdx)("inlineCode",{parentName:"p"},"targetPageParams")," function is used to pass parameters to the global mbox in Adobe Target. This is needed in any scenario where additional targeting/context information is to be passed into Target."),(0,o.mdx)("p",null," For example, in a Recommendations activity, use the parameters to represent the current product or category that is being viewed."),(0,o.mdx)("p",null,"The code to call the JavaScript function must come before the global mbox on the page, whether the global mbox is fired as a part of at.js or is manually included in the page code."),(0,o.mdx)(p,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,o.mdx)("p",null,"If you want to add parameters to all mboxes on the page, not just to the global mbox, use the ",(0,o.mdx)("a",{parentName:"p",href:"/target-developers/src/pages/implement/client-side/atjs/atjs-functions/targetpageparamsall.md"},"targetPageParamsAll()")," function."),(0,o.mdx)("p",null,"You can pass in parameters to ",(0,o.mdx)("inlineCode",{parentName:"p"},"target-global-mbox")," using the ",(0,o.mdx)("inlineCode",{parentName:"p"},"targetPageParams()")," function in any of the following ways:"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},"An array"),(0,o.mdx)("li",{parentName:"ul"},"A JSON object"),(0,o.mdx)("li",{parentName:"ul"},"An ampersand-delimited list")),(0,o.mdx)("p",null,"Use these three methods to verify that the parameters are being passed correctly. You might also be able to verify the passing of parameters using the ",(0,o.mdx)("a",{parentName:"p",href:"https://experienceleague.adobe.com/docs/debugger/using/experience-cloud-debugger.html"},"Adobe Experience Cloud Debugger"),"."),(0,o.mdx)("p",null,"You must define the JavaScript function before adding the global mbox to the page. The name must be ",(0,o.mdx)("inlineCode",{parentName:"p"},"targetPageParams"),"."),(0,o.mdx)("h2",{id:"query-string"},"Query String"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre"},"p1=v1&p2=v2&p3=hello%20world\n")),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("p",{parentName:"li"},"Name: ",(0,o.mdx)("inlineCode",{parentName:"p"},"targetPageParams")," ")),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("p",{parentName:"li"},'Return value: a "&" delimited parameters, with URL encoded parameter values.'),(0,o.mdx)("p",{parentName:"li"},"Example:"),(0,o.mdx)("p",{parentName:"li"},"In this example, p3 has the value ",(0,o.mdx)("inlineCode",{parentName:"p"},"hello world"),", which is URL encoded."))),(0,o.mdx)("p",null,"Consider the following example page code:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-html"},'<html> \n  <head> \n    <title>Title here..</title> \n    <script type="text/javascript"> \n        function targetPageParams() { \n          return "p1=v1&p2=v2&p3=hello%20world";\n        } \n    <\/script> \n    <script src="mbox.js" type="text/javascript"><\/script> \n  </head> \n  <body>Body here... \n  </body> \n</html>\n')),(0,o.mdx)("p",null,"This example sends the following data to the mbox edge:"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},"p1=v1 "),(0,o.mdx)("li",{parentName:"ul"},"p2=v2 "),(0,o.mdx)("li",{parentName:"ul"},"p3=hello world")),(0,o.mdx)("h2",{id:"array"},"Array"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-javascript"},'\x3c!--window.--\x3etargetPageParams = function() { \n  return ["a=1", "b=2", "c=hello world"]; \n}; \n\n')),(0,o.mdx)("p",null,"Values do not need to be URL encoded. For example, if a value contains a space, there is no need to encode the space."),(0,o.mdx)("p",null,"This example sends the following data to the mbox edge:"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},"a=1 "),(0,o.mdx)("li",{parentName:"ul"},"b=2 "),(0,o.mdx)("li",{parentName:"ul"},"c=hello world")),(0,o.mdx)("h2",{id:"json"},"JSON"),(0,o.mdx)("p",null,"JSON is a powerful way to pass parameters. Target uses the JSON object keys to flatten complicated structures into simple parameters."),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-json"},'\x3c!--window.--\x3etargetPageParams = function() { \n  return { \n    "a": 1, \n    "b": 2, \n    "profile": { \n                  "memberStatus": Gold, \n                  "country": { \n                                "city": "San Francisco" \n                            } \n              } \n  }; \n}; \n\n')),(0,o.mdx)("p",null,'Values do not need to be URL encoded. For example, "San Francisco" does not require the space to be encoded. A space suffices.'),(0,o.mdx)("p",null,"This example sends the following data to the mbox edge:"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},"a=1 "),(0,o.mdx)("li",{parentName:"ul"},"b=2 "),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"profile.memberStatus"),"=Gold "),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"profile.country.city"),"=San Francisco")))}x.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-implement-client-side-atjs-global-mbox-pass-parameters-to-global-mbox-md-aabf0f88634f96b93bfe.js.map