{"version":3,"file":"component---src-pages-before-implement-implement-cname-support-in-target-md-34ef89acc128eef9f2e7.js","mappings":"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","sources":["webpack://target-developers/./src/pages/before-implement/implement-cname-support-in-target.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/target-developers/target-developers/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst InlineAlert = makeShortcode(\"InlineAlert\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"cname-and-target\"\n    }}>{`CNAME and Target`}</h1>\n    <p>{`Instructions for working with Adobe Client Care to implement CNAME (Canonical Name) support in Adobe Target. Use CNAME to handle ad blocking issues or ITP-related (Intelligent Tracking Prevention) cookie policies. With CNAME, calls are made to a domain owned by the customer rather than a domain owned by Adobe.`}</p>\n    <h2 {...{\n      \"id\": \"request-cname-support-in-target\"\n    }}>{`Request CNAME support in Target`}</h2>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Determine the list of hostnames you need for your SSL certificate (see FAQ below).`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`For each hostname, create a CNAME record in your DNS pointing to your regular Target hostname `}<inlineCode parentName=\"p\">{`clientcode.tt.omtrdc.net`}</inlineCode>{`. `}</p>\n        <p parentName=\"li\">{`For example, if your client code is \"cnamecustomer\" and your proposed hostname is `}<inlineCode parentName=\"p\">{`target.example.com`}</inlineCode>{`, your DNS CNAME record looks similar to:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`target.example.com.  IN  CNAME  cnamecustomer.tt.omtrdc.net.\n`}</code></pre>\n      </li>\n    </ol>\n    <InlineAlert variant=\"warning\" slots=\"text\" mdxType=\"InlineAlert\" />\n   \nAdobe's certificate authority, DigiCert, cannot issue a certificate until this step is complete. Therefore, Adobe cannot fulfill your request for a CNAME implementation until this step is complete.\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"/target-developers/FPC_Request_Form.xlsx\"\n          }}>{`Fill out this form`}</a>{` and include it when you `}<a parentName=\"p\" {...{\n            \"href\": \"https://experienceleague.adobe.com/docs/target/using/cmp-resources-and-contact-information.html?#reference_ACA3391A00EF467B87930A450050077C\"\n          }}>{`open an Adobe Client Care ticket requesting CNAME support`}</a>{`:`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Adobe Target client code:`}</li>\n          <li parentName=\"ul\">{`SSL certificate hostnames (example: `}<inlineCode parentName=\"li\">{`target.example.com target.example.org`}</inlineCode>{`):`}</li>\n          <li parentName=\"ul\">{`SSL certificate purchaser (Adobe is highly recommended, see FAQ): Adobe/customer`}</li>\n          <li parentName=\"ul\">{`If the customer is purchasing the certificate, also known as \"Bring Your Own Certificate\" (BYOC), fill out these additional details:`}\n            <ul parentName=\"li\">\n              <li parentName=\"ul\">{`Certificate organization (example: Example Company Inc):`}</li>\n              <li parentName=\"ul\">{`Certificate organizational unit (optional, example: Marketing):`}</li>\n              <li parentName=\"ul\">{`Certificate country (example: US):`}</li>\n              <li parentName=\"ul\">{`Certificate state/region (example: California):`}</li>\n              <li parentName=\"ul\">{`Certificate city (example: San Jose):`}</li>\n            </ul>\n          </li>\n        </ul>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`If Adobe is purchasing the certificate, Adobe works with DigiCert to purchase and deploy your certificate on Adobe's production servers.`}</p>\n        <p parentName=\"li\">{`If the customer is purchasing the certificate (BYOC), Adobe Client Care sends you the certificate signing request (CSR). Use the CSR when purchasing the certificate through your certificate authority of choice. After the certificate is issued, send a copy of the certificate and any intermediate certificates to Adobe Client Care for deployment.`}</p>\n        <p parentName=\"li\">{`Adobe Client Care notifies you when your implementation is ready.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Update the `}<inlineCode parentName=\"p\">{`serverDomain`}</inlineCode>{` `}<a parentName=\"p\" {...{\n            \"href\": \"../implement/client-side/atjs/atjs-functions/targetglobalsettings.md#serverdomain\"\n          }}>{`documentation`}</a>{` to the new CNAME hostname and set `}<inlineCode parentName=\"p\">{`overrideMboxEdgeServer`}</inlineCode>{` to `}<inlineCode parentName=\"p\">{`false`}</inlineCode>{` `}<a parentName=\"p\" {...{\n            \"href\": \"../implement/client-side/atjs/atjs-functions/targetglobalsettings.md#overridemboxedgeserver\"\n          }}>{`documentation`}</a>{` in your at.js configuration.`}</p>\n      </li>\n    </ol>\n    <h2 {...{\n      \"id\": \"frequently-asked-questions\"\n    }}>{`Frequently Asked Questions`}</h2>\n    <p>{`The following information answers frequently asked questions about requesting and implementing CNAME support in Target:`}</p>\n    <h3 {...{\n      \"id\": \"can-i-provide-my-own-certificate-bring-your-own-certificate-or-byoc\"\n    }}>{`Can I provide my own certificate (Bring Your Own Certificate or BYOC)?`}</h3>\n    <p>{`You can provide your own certificate. However, Adobe does not recommend this practice. Management of the SSL certificate lifecycle is easier for both Adobe and you if Adobe purchases and controls the certificate. SSL certificates must be renewed every year. Therefore, Adobe Client Care must contact you every year to obtain a new certificate in a timely manner. Some customers can have difficulty producing a renewed certificate in a timely manner. Your Target implementation is jeopardized when the certificate expires because browsers refuse connections.`}</p>\n    <InlineAlert variant=\"warning\" slots=\"text\" mdxType=\"InlineAlert\" />\n    <p>{`If you request a Target bring-your-own-certificate CNAME implementation, you are responsible for providing renewed certificates to Adobe Client Care every year. Allowing your CNAME certificate to expire before Adobe can deploy a renewed certificate results in an outage for your specific Target implementation.`}</p>\n    <h3 {...{\n      \"id\": \"how-long-until-my-new-ssl-certificate-expires\"\n    }}>{`How long until my new SSL certificate expires?`}</h3>\n    <p>{`All Adobe-purchased certificates are valid for one year. See `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.digicert.com/blog/position-on-1-year-certificates\"\n      }}>{`DigiCert's article on 1-year certificates`}</a>{` for more information.`}</p>\n    <h3 {...{\n      \"id\": \"what-hostnames-should-i-choose-how-many-hostnames-per-domain-should-i-choose\"\n    }}>{`What hostnames should I choose? How many hostnames per domain should I choose?`}</h3>\n    <p>{`Target CNAME implementations require only one hostname per domain on the SSL certificate and in the customer's DNS. Adobe recommends one hostname per domain. Some customers require more hostnames per domain for their own purposes (testing in staging, for example), which is supported.`}</p>\n    <p>{`Most customers choose a hostname like `}<inlineCode parentName=\"p\">{`target.example.com`}</inlineCode>{`. Adobe recommends following this practice, but the choice is ultimately yours. Do not request a hostname of an existing DNS record. Doing so causes a conflict and delays time to resolution of your Target CNAME request.`}</p>\n    <h3 {...{\n      \"id\": \"i-already-have-a-cname-implementation-for-adobe-analytics-can-i-use-the-same-certificate-or-hostname\"\n    }}>{`I already have a CNAME implementation for Adobe Analytics, can I use the same certificate or hostname?`}</h3>\n    <p>{`No, Target requires a separate hostname and certificate.`}</p>\n    <h3 {...{\n      \"id\": \"is-my-current-implementation-of-target-impacted-by-itp-2x\"\n    }}>{`Is my current implementation of Target impacted by ITP 2.x?`}</h3>\n    <p>{`Apple Intelligent Tracking Prevention (ITP) version 2.3 introduced its CNAME Cloaking Mitigation feature, which is able to detect Adobe Target CNAME implementations and reduces the cookie's expiration to seven days. Currently Target has no workaround for ITP's CNAME Cloaking Mitigation. For more information about ITP, see `}<a parentName=\"p\" {...{\n        \"href\": \"../before-implement/privacy/apple-itp-2x.md\"\n      }}>{`Apple Intelligent Tracking Prevention (ITP) 2.x`}</a>{`.`}</p>\n    <h3 {...{\n      \"id\": \"what-kind-of-service-disruptions-can-i-expect-when-my-cname-implementation-is-deployed\"\n    }}>{`What kind of service disruptions can I expect when my CNAME implementation is deployed?`}</h3>\n    <p>{`There is no service disruption when the certificate is deployed (including certificate renewals). `}</p>\n    <p>{`However, after you change the hostname in your Target implementation code (`}<inlineCode parentName=\"p\">{`serverDomain`}</inlineCode>{` in at.js) to the new CNAME hostname (`}<inlineCode parentName=\"p\">{`target.example.com`}</inlineCode>{`), web browsers treat returning visitors as new visitors. Returning visitors' profile data is lost because the previous cookie is inaccessible under the old hostname (`}<inlineCode parentName=\"p\">{`clientcode.tt.omtrdc.net`}</inlineCode>{`). The previous cookie is inaccessible due to browser security models. This disruption occurs only on the initial cut-over to the new CNAME. Certificate renewals do not have the same effect because the hostname doesn't change.`}</p>\n    <h3 {...{\n      \"id\": \"what-key-type-and-certificate-signature-algorithm-is-used-for-my-cname-implementation\"\n    }}>{`What key type and certificate signature algorithm is used for my CNAME implementation?`}</h3>\n    <p>{`All certificates are RSA SHA-256 and keys are RSA 2048-bit, by default. Key sizes larger than 2048-bit are not currently supported.`}</p>\n    <h3 {...{\n      \"id\": \"how-can-i-validate-that-my-cname-implementation-is-ready-for-traffic\"\n    }}>{`How can I validate that my CNAME implementation is ready for traffic?`}</h3>\n    <p>{`Use the following set of commands (in the macOS or Linux command-line terminal, using bash and curl >=7.49):`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Copy and paste this bash function into your terminal, or paste the function into your bash startup script file (usually `}<inlineCode parentName=\"p\">{`~/.bash_profile`}</inlineCode>{` or `}<inlineCode parentName=\"p\">{`~/.bashrc`}</inlineCode>{`) so the function is available across terminal sessions:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`function adobeTargetCnameValidation {\n  local hostname=\"$1\"\n  if [ -z \"$hostname\" ]; then\n    echo \"ERROR: no hostname specified\"\n    return 1\n  fi\n\n  local service=\"Adobe Target CNAME implementation\"\n  local edges=\"31 32 34 35 36 37 38\"\n  local edgeDomain=\"tt.omtrdc.net\"\n  local edgeFormat=\"mboxedge%d%s.$edgeDomain\"\n  local shardFormat=\"-alb%02d\"\n  local shards=5\n  local shardsFoundCount=0\n  local shardsFound\n  local shardsFoundOutput\n  local curlRegex=\"subject:.*CN=|expire date:|issuer:\"\n  local curlValidation=\"SSL certificate verify ok\"\n  local curlResponseValidation='\"OK\"'\n  local curlEndpoint=\"/uptime?mboxClient=uptime3\"\n  local url=\"https://$hostname$curlEndpoint\"\n  local sslLabsUrl=\"https://ssllabs.com/ssltest/analyze.html?hideResults=on&latest&d=$hostname\"\n  local success=\"✅\"\n  local failure=\"🚫\"\n  local info=\"🔎\"\n  local rule=\"=\"\n  local horizontalRule=\"$(seq \\${COLUMNS:-30} | xargs printf \"$rule%.0s\")\"\n  local miniRule=\"$(seq 5 | xargs printf \"$rule%.0s\")\"\n  local curlVersion=\"$(curl --version | head -1 | cut -d' ' -f2 )\"\n  local curlVersionRequired=\">=7.49\"\n  local edgeCount=\"$(wc -w <<< \"$edges\" | tr -d ' ')\"\n  local edge\n  local shard\n  local currEdgeShard\n  local dnsOutput\n  local cnameExists\n  local endToEndTestSucceeded\n  local curlResult\n\n  for shard in $(seq $shards); do\n    if [ \"$shardsFoundCount\" -eq 0 ]; then\n      for edge in $edges; do\n        if [ \"$shard\" -eq 1 ]; then\n          currEdgeShard=\"$(printf \"$edgeFormat\" \"$edge\" \"\")\"\n        else\n          currEdgeShard=\"$(\n            printf \"$edgeFormat\" \"$edge\" \"$(\n              printf -- \"$shardFormat\" \"$shard\"\n            )\"\n          )\"\n        fi\n        curlResult=\"$(curl -vsm20 --connect-to \"$hostname:443:$currEdgeShard:443\" \"$url\" 2>&1)\"\n        if grep -q \"$curlValidation\" <<< \"$curlResult\"; then\n          shardsFound+=\" $currEdgeShard\"\n          if grep -q \"$curlResponseValidation\" <<< \"$curlResult\"; then\n            shardsFoundCount=$((shardsFoundCount+1))\n            shardsFoundOutput+=\"\\\\n\\\\n$miniRule $success $hostname [edge shard: $currEdgeShard] $miniRule\\\\n\"\n          else\n            shardsFoundOutput+=\"\\\\n\\\\n$miniRule $failure $hostname [edge shard: $currEdgeShard] $miniRule\\\\n\"\n          fi\n          shardsFoundOutput+=\"$(grep -E \"$curlRegex\" <<< \"$curlResult\" | sort)\"\n          if ! grep -q \"$curlResponseValidation\" <<< \"$curlResult\"; then\n            shardsFoundOutput+=\"\\\\nERROR: unexpected HTTP response from this shard using $url\"\n          fi\n        fi\n      done\n    fi\n  done\n\n  echo\n  echo \"$horizontalRule\"\n  echo\n  echo \"$service validation for hostname $hostname:\"\n  dnsOutput=\"$(dig -t CNAME +short \"$hostname\" 2>&1)\"\n  if grep -qFi \".$edgeDomain\" <<< \"$dnsOutput\"; then\n    echo \"$success $hostname passes DNS CNAME validation\"\n    cnameExists=true\n  else\n    echo -n \"$failure $hostname FAILED DNS CNAME validation -- \"\n    if [ -n \"$dnsOutput\" ]; then\n      echo -e \"$dnsOutput is not in the subdomain $edgeDomain\"\n    else\n      echo \"required DNS CNAME record pointing to <target-client-code>.$edgeDomain not found\"\n    fi\n  fi\n\n  curlResult=\"$(curl -vsm20 \"$url\" 2>&1)\"\n  if grep -q \"$curlValidation\" <<< \"$curlResult\"; then\n    if grep -q \"$curlResponseValidation\" <<< \"$curlResult\"; then\n      echo -en \"$success $hostname passes TLS and HTTP response validation\"\n      if [ -n \"$cnameExists\" ]; then\n        echo\n      else\n        echo \" -- the DNS CNAME is not pointing to the correct subdomain for \\${service}s with Adobe-managed certificates\" \\\\\n          \"(bring-your-own-certificate implementations don't have this requirement), but this test passes as configured\"\n      fi\n      endToEndTestSucceeded=true\n    else\n      echo -n \"$failure $hostname FAILED HTTP response validation --\" \\\\\n        \"unexpected response from $url -- \"\n      if [ -n \"$cnameExists\" ]; then\n        echo \"DNS is NOT pointing to the correct shard, notify Adobe Client Care\"\n      else\n        echo \"the required DNS CNAME record is missing, see above\"\n      fi\n    fi\n  else\n\n    echo -n \"$failure $hostname FAILED TLS validation -- \"\n    if [ -n \"$cnameExists\" ]; then\n      echo \"DNS is likely NOT pointing to the correct shard or there's a validation issue with the certificate or\" \\\\\n        \"protocols, see curl output below and optionally SSL Labs ($sslLabsUrl):\"\n      echo \"\"\n      echo \"$horizontalRule\"\n      echo \"$curlResult\" | sed 's/^/    /g'\n      echo \"$horizontalRule\"\n      echo \"\"\n    else\n      echo \"the required DNS CNAME record is missing, see above\"\n    fi\n  fi\n\n  if [ \"$shardsFoundCount\" -ge \"$edgeCount\" ]; then\n    echo -n \"$success $hostname passes shard validation for the following $shardsFoundCount edge shards:\"\n    echo -e \"$shardsFoundOutput\"\n    echo\n\n    if [ -n \"$cnameExists\" ] && [ -n \"$endToEndTestSucceeded\" ]; then\n      echo \"$horizontalRule\"\n      echo \"\"\n      echo \"  For additional TLS/SSL validation, including detailed browser/client support,\"\n      echo \"  see SSL Labs (click the first IP address if prompted):\"\n      echo \"\"\n      echo \"    $info  $sslLabsUrl\"\n      echo \"\"\n      echo \"  To check DNS propagation around the world, see whatsmydns.net:\"\n      echo \"\"\n      echo \"    $info  DNS A records:     https://whatsmydns.net/#A/$hostname\"\n      echo \"    $info  DNS CNAME record:  https://whatsmydns.net/#CNAME/$hostname\"\n    fi\n  else\n    echo -n \"$failure $hostname FAILED shard validation -- shards found: $shardsFoundCount,\" \\\\\n      \"expected: $edgeCount\"\n    if bc -l <<< \"$(cut -d. -f1,2 <<< \"$curlVersion\") $curlVersionRequired\" 2>/dev/null | grep -q 0; then\n      echo -n \" -- insufficient curl version installed: $curlVersion, but this script requires curl version\" \\\\\n        \"$curlVersionRequired because it uses the curl --connect-to flag to bypass DNS and directly test\" \\\\\n        \"each Adobe Target edge shards' SNI confirguation for $hostname\"\n    fi\n    if [ -n \"$shardsFoundOutput\" ]; then\n      echo -e \":\\\\n$shardsFoundOutput\"\n    fi\n    echo\n  fi\n  echo\n  echo \"$horizontalRule\"\n  echo\n}\n\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Paste this command (replacing `}<inlineCode parentName=\"p\">{`target.example.com`}</inlineCode>{` with your hostname):`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`adobeTargetCnameValidation target.example.com\n`}</code></pre>\n        <p parentName=\"li\">{`If the implementation is ready, you see output like below. The important part is that all validation status lines show `}<inlineCode parentName=\"p\">{`✅`}</inlineCode>{` rather than `}<inlineCode parentName=\"p\">{`🚫`}</inlineCode>{`. Each Target edge CNAME shard should show `}<inlineCode parentName=\"p\">{`CN=target.example.com`}</inlineCode>{`, which matches the primary hostname on the requested certificate (additional SAN hostnames on the certificate aren't printed in this output).`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`$ adobeTargetCnameValidation target.example.com\n\n==========================================================\n\nAdobe Target CNAME implementation validation for hostname target.example.com:\n✅ target.example.com passes DNS CNAME validation\n✅ target.example.com passes TLS and HTTP response validation\n✅ target.example.com passes shard validation for the following 7 edge shards:\n\n===== ✅ target.example.com [edge shard: mboxedge31-alb02.tt.omtrdc.net] =====\n*  expire date: Jul 22 23:59:59 2022 GMT\n*  issuer: C=US; O=DigiCert Inc; CN=DigiCert TLS RSA SHA256 2020 CA1\n*  subject: C=US; ST=California; L=San Jose; O=Adobe Systems Incorporated; CN=target.example.com\n\n===== ✅ target.example.com [edge shard: mboxedge32-alb02.tt.omtrdc.net] =====\n*  expire date: Jul 22 23:59:59 2022 GMT\n*  issuer: C=US; O=DigiCert Inc; CN=DigiCert TLS RSA SHA256 2020 CA1\n*  subject: C=US; ST=California; L=San Jose; O=Adobe Systems Incorporated; CN=target.example.com\n\n===== ✅ target.example.com [edge shard: mboxedge34-alb02.tt.omtrdc.net] =====\n*  expire date: Jul 22 23:59:59 2022 GMT\n*  issuer: C=US; O=DigiCert Inc; CN=DigiCert TLS RSA SHA256 2020 CA1\n*  subject: C=US; ST=California; L=San Jose; O=Adobe Systems Incorporated; CN=target.example.com\n\n===== ✅ target.example.com [edge shard: mboxedge35-alb02.tt.omtrdc.net] =====\n*  expire date: Jul 22 23:59:59 2022 GMT\n*  issuer: C=US; O=DigiCert Inc; CN=DigiCert TLS RSA SHA256 2020 CA1\n*  subject: C=US; ST=California; L=San Jose; O=Adobe Systems Incorporated; CN=target.example.com\n\n===== ✅ target.example.com [edge shard: mboxedge36-alb02.tt.omtrdc.net] =====\n*  expire date: Jul 22 23:59:59 2022 GMT\n*  issuer: C=US; O=DigiCert Inc; CN=DigiCert TLS RSA SHA256 2020 CA1\n*  subject: C=US; ST=California; L=San Jose; O=Adobe Systems Incorporated; CN=target.example.com\n\n===== ✅ target.example.com [edge shard: mboxedge37-alb02.tt.omtrdc.net] =====\n*  expire date: Jul 22 23:59:59 2022 GMT\n*  issuer: C=US; O=DigiCert Inc; CN=DigiCert TLS RSA SHA256 2020 CA1\n*  subject: C=US; ST=California; L=San Jose; O=Adobe Systems Incorporated; CN=target.example.com\n\n===== ✅ target.example.com [edge shard: mboxedge38-alb02.tt.omtrdc.net] =====\n*  expire date: Jul 22 23:59:59 2022 GMT\n*  issuer: C=US; O=DigiCert Inc; CN=DigiCert TLS RSA SHA256 2020 CA1\n*  subject: C=US; ST=California; L=San Jose; O=Adobe Systems Incorporated; CN=target.example.com\n\n==========================================================\n\n  For additional TLS/SSL validation, including detailed browser/client support,\n  see SSL Labs (click the first IP address if prompted):\n\n    🔎  https://ssllabs.com/ssltest/analyze.html?hideResults=on&latest&d=target.example.com\n\n  To check DNS propagation around the world, see whatsmydns.net:\n\n    🔎  DNS A records:     https://whatsmydns.net/#A/target.example.com\n    🔎  DNS CNAME record:  https://whatsmydns.net/#CNAME/target.example.com\n\n==========================================================\n`}</code></pre>\n      </li>\n    </ol>\n    <InlineAlert variant=\"info\" slots=\"text\" mdxType=\"InlineAlert\" />\n    <p>{`If this validation command fails on DNS validation but you've already made the necessary DNS changes, you might need to wait for your DNS updates to fully propagate. DNS records have an associated `}<a parentName=\"p\" {...{\n        \"href\": \"https://en.wikipedia.org/wiki/Time_to_live#DNS_records\"\n      }}>{`TTL (time-to-live)`}</a>{` that dictates cache expiration time for DNS replies of those records. As a result, you might need to wait at least as long as your TTLs. You can use the `}<inlineCode parentName=\"p\">{`dig target.example.com`}</inlineCode>{` command or `}<a parentName=\"p\" {...{\n        \"href\": \"https://toolbox.googleapps.com/apps/dig/#CNAME\"\n      }}>{`the G Suite Toolbox`}</a>{` to look up your specific TTLs. To check DNS propagation around the world, see `}<a parentName=\"p\" {...{\n        \"href\": \"https://whatsmydns.net/#CNAME\"\n      }}>{`whatsmydns.net`}</a>{`.`}</p>\n    <h3 {...{\n      \"id\": \"how-do-i-use-an-opt-out-link-with-cname\"\n    }}>{`How do I use an opt-out link with CNAME`}</h3>\n    <p>{`If you are using CNAME, the opt-out link should contain the \"client=`}<inlineCode parentName=\"p\">{`clientcode`}</inlineCode>{` parameter, for example:\n`}<inlineCode parentName=\"p\">{`https://my.cname.domain/optout?client=clientcode`}</inlineCode>{`.`}</p>\n    <p>{`Replace `}<inlineCode parentName=\"p\">{`clientcode`}</inlineCode>{` with your client code, then add the text or image to be linked to the `}<a parentName=\"p\" {...{\n        \"href\": \"privacy/privacy.md\"\n      }}>{`opt-out URL`}</a>{`.`}</p>\n    <h2 {...{\n      \"id\": \"known-limitations\"\n    }}>{`Known limitations`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`QA mode is not sticky when you have CNAME and at.js 1.x because it is based on a third-party cookie. The workaround is to add the preview parameters to each URL you navigate to. QA mode is sticky when you have CNAME and at.js 2.x.`}</li>\n      <li parentName=\"ul\">{`When using CNAME, it becomes more likely that the size of the cookie header for Target calls increase. Adobe recommends keeping the cookie size under 8 KB.`}</li>\n    </ul>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["name","_frontmatter","InlineAlert","props","console","warn","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","variant","slots","isMDXComponent"],"sourceRoot":""}