(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[4275],{1862:function(e,t,a){"use strict";a.r(t),a.d(t,{_frontmatter:function(){return m},default:function(){return d}});var n=a(22122),r=a(19756),o=(a(15007),a(64983)),i=a(99536),l=["components"],m={},p={_frontmatter:m},s=i.Z;function d(e){var t=e.components,a=(0,r.Z)(e,l);return(0,o.mdx)(s,(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,o.mdx)("h1",{id:"manage-rollouts-for-feature-tests"},"Manage rollouts for feature tests"),(0,o.mdx)("h2",{id:"summary-of-steps"},"Summary of steps"),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},"Enable On-Device Decisioning for your organization"),(0,o.mdx)("li",{parentName:"ol"},"Create an A/B activity"),(0,o.mdx)("li",{parentName:"ol"},"Define your feature and rollout settings"),(0,o.mdx)("li",{parentName:"ol"},"Implement and render the feature in your application"),(0,o.mdx)("li",{parentName:"ol"},"Implement tracking for events in your application"),(0,o.mdx)("li",{parentName:"ol"},"Activate your A/B activity"),(0,o.mdx)("li",{parentName:"ol"},"Adjust rollout and traffic allocation as needed")),(0,o.mdx)("h2",{id:"enable-on-device-decisioning-for-your-organization"},"Enable On-Device Decisioning for your organization"),(0,o.mdx)("p",null,"Enabling on-device decisioning ensures an A/B activity is executed at near-zero latency. To enable this feature, navigate to ",(0,o.mdx)("strong",{parentName:"p"},"Administration")," > ",(0,o.mdx)("strong",{parentName:"p"},"Implementation")," > ",(0,o.mdx)("strong",{parentName:"p"},"Account details")," in Adobe Target, and enable the ",(0,o.mdx)("strong",{parentName:"p"},"On-Device Decisioning")," toggle."),(0,o.mdx)("p",null,(0,o.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,o.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"42.1875%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,o.mdx)("picture",{parentName:"span"},"\n          ",(0,o.mdx)("source",{parentName:"picture",srcSet:["/target-developers/static/b3fbb00461e4a60ab9b1956142857d61/cb523/asset-odd-toggle.webp 320w","/target-developers/static/b3fbb00461e4a60ab9b1956142857d61/797b9/asset-odd-toggle.webp 640w","/target-developers/static/b3fbb00461e4a60ab9b1956142857d61/4b075/asset-odd-toggle.webp 1280w","/target-developers/static/b3fbb00461e4a60ab9b1956142857d61/480e2/asset-odd-toggle.webp 1322w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,o.mdx)("source",{parentName:"picture",srcSet:["/target-developers/static/b3fbb00461e4a60ab9b1956142857d61/72799/asset-odd-toggle.png 320w","/target-developers/static/b3fbb00461e4a60ab9b1956142857d61/6af66/asset-odd-toggle.png 640w","/target-developers/static/b3fbb00461e4a60ab9b1956142857d61/21b4d/asset-odd-toggle.png 1280w","/target-developers/static/b3fbb00461e4a60ab9b1956142857d61/203d3/asset-odd-toggle.png 1322w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,o.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/target-developers/static/b3fbb00461e4a60ab9b1956142857d61/21b4d/asset-odd-toggle.png",alt:"alt image",title:"alt image",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"NOTE"),": You must have the Admin or Approver ",(0,o.mdx)("a",{parentName:"p",href:"https://experienceleague.adobe.com/docs/target/using/administer/manage-users/user-management.html"},"user role")," to enable or disable the On-Device Decisioning toggle."),(0,o.mdx)("p",null,"After enabling the On-Device Decisioning toggle, Adobe Target begins generating ",(0,o.mdx)("em",{parentName:"p"},"rule artifacts")," for your client."),(0,o.mdx)("h2",{id:"create-an-ab-activity"},"Create an A/B activity"),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"In Adobe Target, navigate to the ",(0,o.mdx)("strong",{parentName:"p"},"Activities")," page, then select ",(0,o.mdx)("strong",{parentName:"p"},"Create Activity")," > ",(0,o.mdx)("strong",{parentName:"p"},"A/B test"),"."),(0,o.mdx)("p",{parentName:"li"},(0,o.mdx)("em",{parentName:"p"},"Insert image-ab.png"))),(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"In the ",(0,o.mdx)("strong",{parentName:"p"},"Create A/B Test Activity")," modal, leave the default ",(0,o.mdx)("strong",{parentName:"p"},"Web")," option selected (1), select ",(0,o.mdx)("strong",{parentName:"p"},"Form")," as your experience composer (2), select ",(0,o.mdx)("strong",{parentName:"p"},"Default Workspace")," with ",(0,o.mdx)("strong",{parentName:"p"},"No Property Restrictions")," (3), and click ",(0,o.mdx)("strong",{parentName:"p"},"Next")," (4)."),(0,o.mdx)("p",{parentName:"li"},(0,o.mdx)("em",{parentName:"p"},"Insert image-form.png")))),(0,o.mdx)("h2",{id:"define-your-feature-and-rollout-settings"},"Define your feature and rollout settings"),(0,o.mdx)("p",null,"In the ",(0,o.mdx)("strong",{parentName:"p"},"Experiences")," step of activity creation, provide a name for your activity (1). Enter the name of the location (2) within your application where you want to manage rollouts for your feature. For example,  ",(0,o.mdx)("inlineCode",{parentName:"p"},"ondevice-rollout")," or ",(0,o.mdx)("inlineCode",{parentName:"p"},"homepage-addtocart-rollout")," are location names indicating the destinations for managing feature rollouts. In the example shown below, ",(0,o.mdx)("inlineCode",{parentName:"p"},"ondevice-rollout")," is the location defined for Experience A. You can optionally add Audience refinements (4) to restrict qualification to the activity."),(0,o.mdx)("p",null,(0,o.mdx)("em",{parentName:"p"},"Insert image-location-rollout.png")),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"In the ",(0,o.mdx)("strong",{parentName:"p"},"Content")," section on the same page, select ",(0,o.mdx)("strong",{parentName:"p"},"Create JSON Offer")," in the drop-down (1) as shown."),(0,o.mdx)("p",{parentName:"li"},(0,o.mdx)("em",{parentName:"p"},"Insert image-offer.png"))),(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"In the ",(0,o.mdx)("strong",{parentName:"p"},"JSON Data")," text box that appears, enter the feature flag variable for the feature you intend to roll out with this activity in Experience A (1), using a valid JSON object (2)."),(0,o.mdx)("p",{parentName:"li"},(0,o.mdx)("em",{parentName:"p"},"Insert image-json_a_rollout"))),(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"Click ",(0,o.mdx)("strong",{parentName:"p"},"Next")," (1) to advance to the ",(0,o.mdx)("strong",{parentName:"p"},"Targeting")," step of activity creation."),(0,o.mdx)("p",{parentName:"li"},(0,o.mdx)("em",{parentName:"p"},"Insert image-next_2_t_rollout"))),(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"In the ",(0,o.mdx)("strong",{parentName:"p"},"Targeting")," step, keep the ",(0,o.mdx)("strong",{parentName:"p"},"All Visitors")," audience (1), for simplicity. But adjust the traffic allocation (2) to 10%. This will restrict the feature to only 10% of your site visitors. Click Next (3) to advance to the ",(0,o.mdx)("strong",{parentName:"p"},"Goals & Settings")," step."),(0,o.mdx)("p",{parentName:"li"},(0,o.mdx)("em",{parentName:"p"},"Insert image-next_2_g_rollout.png."))),(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"In the ",(0,o.mdx)("strong",{parentName:"p"},"Goals & Settings")," step, choose ",(0,o.mdx)("strong",{parentName:"p"},"Adobe Target")," (1) as the ",(0,o.mdx)("strong",{parentName:"p"},"Reporting Source")," to view your activity results in the Adobe Target UI.")),(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"Choose a ",(0,o.mdx)("strong",{parentName:"p"},"Goal Metric")," to measure the activity. In this example, a successful conversion is based on whether the user purchases an item, as indicated by whether the user reached the orderConfirm (2) location.")),(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"Click ",(0,o.mdx)("strong",{parentName:"p"},"Save & Close")," (3) to save the activity."),(0,o.mdx)("p",{parentName:"li"},(0,o.mdx)("em",{parentName:"p"},"Insert image-conv_rollout.png.")))),(0,o.mdx)("h2",{id:"implement-and-render-the-feature-in-your-application"},"Implement and render the feature in your application"),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"Node.js")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre"},'targetClient.getAttributes(["ondevice-rollout"]).then(function(attributes) {\n      const featureFlags = attributes.asObject("ondevice-rollout");\n\n      // Your flag variables are now available in the featureFlags object variable.\n      //If you failed to qualify for the Activity, you will have an empty object.\n      console.log(featureFlags);\n    });\n')),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"Java")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre"},'    Attributes attrs = targetJavaClient.getAttributes(targetDeliveryRequest, "ondevice-rollout");\n    Map<String, Object> featureFlags = attrs.toMboxMap("ondevice-rollout");\n​\n    // Your flag variables are now available in the featureFlags object variable.\n    //If you failed to qualify for the Activity, you will have an empty object.\n    System.out.println(featureFlags);\n')),(0,o.mdx)("h2",{id:"implement-tracking-for-events-in-your-application"},"Implement tracking for events in your application"),(0,o.mdx)("p",null,"After making the feature flag variable available in the application, you can use it enable any feature that is already part of your application. If a visitor does not qualify for the activity, it means they were not included as part of the 10% bucket defined as the audience."),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"Node.js")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre"},'//... Code removed for brevity\n\nif(featureFlags.enable == "yes") { //Fell within 10% traffic\n    console.log("Render Feature");\n}\nelse {\n    console.log("Disable Feature");\n}\n\n// alternatively, the getValue method could be used on the Attributes object.\n\nif(attributes.getValue("ondevice-rollout", "enable") === "yes") { //Fell within 10% traffic\n    console.log("Render Feature");\n}\nelse {\n    console.log("Disable Feature");\n}\n')),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"Java")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre"},'//... Code removed for brevity\n​\nif("yes".equals(String.valueOf(featureFlags.get("enable")))) { //Fell within 10% traffic\n    System.out.println("Render Feature");\n}\nelse {\n    System.out.println("Disable Feature");\n}\n​\n// alternatively, the getString method could be used on the Attributes object.\n​\nif("yes".equals(attrs.getString("ondevice-rollout", "enable"))) { //Fell within 10% traffic\n    System.out.println("Render Feature");\n}\nelse {\n    System.out.println("Disable Feature");\n}\n')),(0,o.mdx)("h2",{id:"activate-your-rollout-activity"},"Activate your rollout activity"),(0,o.mdx)("p",null,'*Insert image-activate_rollout.png"'),(0,o.mdx)("h2",{id:"adjust-rollout-and-traffic-allocation-as-needed"},"Adjust rollout and traffic allocation as needed"),(0,o.mdx)("p",null,"Once you have activated your activity, edit it any time to increase or decrease the traffic allocation as needed."),(0,o.mdx)("p",null,"Increasing the traffic allocation from 10% to 50% due to the success of the initial rollout."),(0,o.mdx)("p",null,(0,o.mdx)("em",{parentName:"p"},"Insert image-adjust_rollout.png")))}d.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-implement-sdk-guides-on-device-decisioning-manage-rollouts-for-feature-tests-md-25164dc705e077a9d65f.js.map