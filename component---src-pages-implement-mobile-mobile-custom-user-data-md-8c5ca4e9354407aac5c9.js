(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[6897],{8837:function(e,a,t){"use strict";t.r(a),t.d(a,{_frontmatter:function(){return s},default:function(){return l}});var i=t(22122),n=t(19756),r=(t(15007),t(64983)),o=t(99536),p=["components"],s={},m={_frontmatter:s},d=o.Z;function l(e){var a=e.components,t=(0,n.Z)(e,p);return(0,r.mdx)(d,(0,i.Z)({},m,t,{components:a,mdxType:"MDXLayout"}),(0,r.mdx)("h1",{id:"ios---send-custom-user-data"},"iOS - send custom user data"),(0,r.mdx)("p",null,"You can send additional information about the location or the user to Target as name-value pairs."),(0,r.mdx)("p",null,"This information can be used to build custom audiences (for example, users with greater than 25000 miles) and in reporting."),(0,r.mdx)("p",null,"There are two types of parameters that you can send with a Target call:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},"mbox parameters"),(0,r.mdx)("p",{parentName:"li"},"Mbox parameters are not persistent across sessions. ")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},"Profile parameters"),(0,r.mdx)("p",{parentName:"li"},"Profile parameters are stored in the visitor profile store and are persistent across sessions. Mbox parameters don't persist. While some keys are reserved, both profile and mbox parameters can be custom key-value pairs."))),(0,r.mdx)("p",null,"Although there are some reserved keys, both profile and mbox parameters can contain custom key-value pairs. "),(0,r.mdx)("ol",null,(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"Create dictionary."),(0,r.mdx)("p",{parentName:"li"},"First, create a dictionary with the values that you send to pass to Target. For the sake of convenience, add this inside the ",(0,r.mdx)("inlineCode",{parentName:"p"},"welcomeMessageCampaign")," method so you don't have to worry about scope."),(0,r.mdx)("p",{parentName:"li"},"Following is a sample dictionary. You can copy paste this inside ",(0,r.mdx)("inlineCode",{parentName:"p"},"(void)welcomeMessageCampaign"),". The values for keys like ",(0,r.mdx)("inlineCode",{parentName:"p"},"userLevel")," and ",(0,r.mdx)("inlineCode",{parentName:"p"},"userMiles")," are hard-coded in this example. In general, you pass in the corresponding variables."),(0,r.mdx)("pre",{parentName:"li"},(0,r.mdx)("code",{parentName:"pre"},'NSDictionary *targetParams = [[NSDictionary alloc] initWithObjectsAndKeys: \n                              @"platinum",@"userLevel", \n                              @26500,@"userMiles", \n                              @"1067007",@"entity.id", \n                              @"dealsapp.qa", @"host", \n                              @"fashion",@"entity.categoryId", \n                              @"millenial", @"profile.persona", \n                              @"cohort_5", @"profile.cohort", \n                              nil];\n')),(0,r.mdx)("ul",{parentName:"li"},(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},"Keys with the prefix profile (for example, ",(0,r.mdx)("inlineCode",{parentName:"p"},"profile.persona"),") are stored on the user's profile."),(0,r.mdx)("p",{parentName:"li"}," These profile attributes can be used across different activities and channels. ")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},"Keys that don't have any prefix (for example, ",(0,r.mdx)("inlineCode",{parentName:"p"},"userMiles"),") are mbox parameters."),(0,r.mdx)("p",{parentName:"li"}," These parameters are available only during the session. ")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},"Keys with the prefix entity (for example, ",(0,r.mdx)("inlineCode",{parentName:"p"},"entity.category.id"),") are used for product recommendations.")))),(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"Verify the data."),(0,r.mdx)("ol",{parentName:"li"},(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"In application ",(0,r.mdx)("inlineCode",{parentName:"p"},"didFinishLaunchingWithOptions"),", uncomment or add ",(0,r.mdx)("inlineCode",{parentName:"p"},"[ADBMobile setDebugLogging:YES];"),"."),(0,r.mdx)("p",{parentName:"li"},"This prints detailed debug logs. ")),(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"Build the app.")),(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"Verify that the parameters are passed in the target call."),(0,r.mdx)("p",{parentName:"li"},"Search for your target location name in your debug console. You will see a call to ",(0,r.mdx)("inlineCode",{parentName:"p"},"YOUR-CLIENT-CODE.tt.omtrdc.net"),"with all the parameters that you just passed."),(0,r.mdx)("p",{parentName:"li"},(0,r.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"900px"}},"\n      ",(0,r.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"34.6875%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,r.mdx)("picture",{parentName:"span"},"\n          ",(0,r.mdx)("source",{parentName:"picture",srcSet:["/target-developers/static/e5c69bf3d68a84a1bf37d2ac96a99bee/cb523/mobile-debug.webp 320w","/target-developers/static/e5c69bf3d68a84a1bf37d2ac96a99bee/797b9/mobile-debug.webp 640w","/target-developers/static/e5c69bf3d68a84a1bf37d2ac96a99bee/90807/mobile-debug.webp 900w"],sizes:"(max-width: 900px) 100vw, 900px",type:"image/webp"}),"\n          ",(0,r.mdx)("source",{parentName:"picture",srcSet:["/target-developers/static/e5c69bf3d68a84a1bf37d2ac96a99bee/72799/mobile-debug.png 320w","/target-developers/static/e5c69bf3d68a84a1bf37d2ac96a99bee/6af66/mobile-debug.png 640w","/target-developers/static/e5c69bf3d68a84a1bf37d2ac96a99bee/1cfc2/mobile-debug.png 900w"],sizes:"(max-width: 900px) 100vw, 900px",type:"image/png"}),"\n          ",(0,r.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/target-developers/static/e5c69bf3d68a84a1bf37d2ac96a99bee/1cfc2/mobile-debug.png",alt:"alt image",title:"alt image",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")))),(0,r.mdx)("p",{parentName:"li"},"You can build audiences and restrict or target the display of content using these parameters in Target Standard."))))}l.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-implement-mobile-mobile-custom-user-data-md-8c5ca4e9354407aac5c9.js.map